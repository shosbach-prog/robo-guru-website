function initializeSlider(){var e=document.querySelectorAll('.srfm-input-slider[type="range"]'),t=document.querySelectorAll(".srfm-text-slider");if(e&&e.forEach(o=>{let t=e=>{var t=o.getAttribute("min"),r=o.getAttribute("max"),l=o.closest(".srfm-block-wrap").querySelector(".srfm-slider-wrap"),n=l.querySelector(".srfm-slider-thumb"),s=l.querySelector(".srfm-slider-tooltip span"),a=s.getAttribute("data-prefix")||"",i=s.getAttribute("data-suffix")||"";if(l&&t&&r){var c=(e-t)*(100/(parseInt(r)-parseInt(t)));switch(c){case 0:s.parentElement.style.left="calc( 0% + 12px )",n.style.left=c+"%";break;case 100:s.parentElement.style.left=`calc(${c}% - 12px)`,n.style.left=`calc(${c}% - 24px)`;break;default:s.parentElement.style.removeProperty("left"),n.style.left=`calc(${c}% - 12px)`}s.textContent=""+a+e+i,l.style.setProperty("--value",c+"%"),o.setAttribute("value",e)}};var e=o.value||o.getAttribute("min");t(e),o.addEventListener("input",function(e){e=e.currentTarget.value;t(e),this.dataset.interacted=!0})}),t){let u=srfm_submit?.is_rtl;t.forEach(l=>{let n=Array.from(l.querySelectorAll('.srfm-text-slider-option input[type="radio"]')),s=l.querySelector(".srfm-slider-wrap"),a=l.querySelector(".srfm-slider-thumb"),i=l.querySelector(".srfm-slider-tooltip span"),c=n.length;var e=n.findIndex(e=>e.checked);let o=l.querySelector("#srfm-slider-a11y-text"),r=e=>{var t=e/(c-1)*100;if(u)switch(e){case 0:i.parentElement.style.right="calc( 0% + 12px )",a.style.right=t+"%";break;case c-1:i.parentElement.style.right=`calc(${t}% - 12px)`,a.style.right=`calc(${t}% - 24px)`;break;default:i.parentElement.style.removeProperty("right"),a.style.right=`calc(${t}% - 12px)`}else switch(e){case 0:i.parentElement.style.left="calc( 0% + 12px )",a.style.left=t+"%";break;case c-1:i.parentElement.style.left=`calc(${t}% - 12px)`,a.style.left=`calc(${t}% - 24px)`;break;default:i.parentElement.style.removeProperty("left"),a.style.left=`calc(${t}% - 12px)`}i.textContent=n[e].parentElement.textContent.trim(),s.style.setProperty("--value",t+"%"),n[e].checked=!0,o.textContent=window?.srfm?.srfmSprintfString(window?.srfm_submit?.messages?.text_slider_selected_value,n[e].parentElement.textContent.trim()),l.closest(".srfm-block").classList.contains("srfm-error")&&window?.srfm?.toggleErrorState(l.closest(".srfm-block"),!1);var r=new Event("change",{bubbles:!1});n[e].dispatchEvent(r)},d=(-1!==e?r(e):r(0),e=>{e=Math.round(e/100*(c-1));r(e)});let t=e=>{var t=s.getBoundingClientRect(),e=Math.max(0,Math.min(100,(u?t.right-e.clientX:e.clientX-t.left)/t.width*100));d(e)},m=()=>{document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",m)};n.forEach((e,t)=>{e.addEventListener("input",()=>{r(t),l.dataset.interacted=!0})}),a.addEventListener("mousedown",function(e){e.preventDefault(),a.focus(),document.addEventListener("mousemove",t),document.addEventListener("mouseup",m),l.dataset.interacted=!0}),a.addEventListener("keydown",e=>{var t=n.findIndex(e=>e.checked);("ArrowLeft"===e.key||"ArrowDown"===e.key)&&0<t?(e.preventDefault(),r(t-1),l.dataset.interacted=!0):("ArrowRight"===e.key||"ArrowUp"===e.key)&&t<c-1&&(e.preventDefault(),r(t+1),l.dataset.interacted=!0)}),s.addEventListener("click",function(e){a.focus();var t=s.getBoundingClientRect(),e=Math.max(0,Math.min(100,(u?t.right-e.clientX:e.clientX-t.left)/t.width*100));d(e),l.dataset.interacted=!0})})}}document.addEventListener("srfm_form_before_submission",e=>{e=e.detail?.form.querySelectorAll(".srfm-input-slider, .srfm-text-slider");e&&0!==e.length&&setTimeout(()=>{initializeSlider()},100)});