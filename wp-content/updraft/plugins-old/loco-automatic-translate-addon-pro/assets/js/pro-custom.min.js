const AutoTranslator=function(t,e,a){function n(){if(X&&X.conf){const{conf:t}=X;rt.shift();const{locale:e,project:a}=t,n=i(a,e);F(n,"yandex"),F(n,"google"),F(n,"deepl"),F(n,"chatGPT"),F(n,"geminiAI"),F(n,"openAI"),F(n,"ChromeAiTranslator"),r(rt)}}function o(){function a(t,a){const n=e(`div#${t}-widget-model.${t}-widget-container`),o=X.conf.locale.lang||null,s=["ar","bg","cs","da","de","el","en","en-gb","en-us","es","es-419","et","fi","fr","he","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt","pt-br","pt-pt","ro","ru","sk","sl","sv","th","tr","uk","vi","zh","zh-hans","zh-hant"],r="deepl"===t?s:["af","sq","am","ar","hy","az","eu","bs","bg","ca","ceb","cs","cy","da","nl","et","fi","gl","ka","de","el","gu","he","hi","hu","is","id","it","ja","jv","kn","kk","km","ko","lo","lv","lt","mk","ms","ml","mr","mn","ne","pl","ro","ru","sr","si","sk","sl","sw","sv","ta","te","th","tr","uk","ur","uz","vi","cy","ceb","be","bn","zh","zh-TW","en","tl","fr","fa","pt","pa","sd","es","bn_BD","fa_AF","fr_CA","fr_FR","es_ES","es_CL","es_VE","es_EC","es_DO","es_UY","es_PR","es_MX","es_GT","es_CO","es_CR","es_PE","es_AR","pt_BR","pt_PT","zh_TW","zh_CN","zh_HK","tl","zh","ja"];e("#atlt-dialog").dialog("close"),r.includes(o)?(n.find(".notice-container").removeClass().empty(),n.find(".atlt_string_container, .choose-lang, .atlt_save_strings, .translator-widget").show()):(n.find(".notice-container").addClass("notice inline notice-warning").html(`${a} Translator does not support this language.`),n.find(".atlt_string_container, .choose-lang, .atlt_save_strings, .translator-widget, .notice-info, .is-dismissible").hide()),n.fadeIn("slow")}const{conf:n}=X,{locale:o,project:s}=n,r=i(s,o);0===e("#loco-editor nav").find("#cool-auto-translate-btn").length&&D(),R(),e("#cool-auto-translate-btn").on("click",J),e("button.icon-robot[data-loco='auto']").on("click",x),e("#atlt_yandex_translate_btn").on("click",function(){d(o)}),e("#atlt_google_translate_btn").on("click",function(){p(o)}),e("#google_translate_element").change(function(){h()}),e("#ChromeAiTranslator_settings_btn").on("click",function(){u(o)}),e("#atlt_chatGPT_btn").on("click",function(){const t=70,e=[];let a=0;const n={},s=[];var i=S(rt,"plain");for(let t=0;t<i.length;t++)n[t+1]=i[t].source;m(o,r,t,e,a,s,n)}),e("#atlt_openai_btn").on("click",function(){a("openAI","OpenAI")}),e("#atlt_geminiAI_btn").on("click",function(){a("geminiAI","GeminiAI")}),e("#atlt_deepl_btn").on("click",function(){a("deepl","DeepL")}),e(".atlt_addApikey_btn").on("click",function(){t.location.href=st+"&tab=settings"});const g=S(rt,"plain"),b=Object.fromEntries(g.map((t,e)=>[e+1,t.source.trim().replace(/\s+/g," ")])),f=l(b);e("#geminiAI_translate_button").on("click",function(){c(f,o,b,"geminiAI","google")}),e("#openAI_translate_button").on("click",function(){c(f,o,b,"openAI","openai")}),e("#deepl_translate_button").on("click",function(){c(f,o,b,"deepl","deepl")}),e(".atlt_save_strings").on("click",I)}function s(){Z=!1,e('.skiptranslate iframe[id=":1.container"]').contents().find('a[id=":1.close"][title="Close"] img').trigger("click"),e(".yt-button__icon.yt-button__icon_type_right").trigger("click"),e(".atlt_custom_model.google-widget-container,.atlt_custom_model.yandex-widget-container").find(".atlt_string_container").scrollTop(0);const t=e(".modal-body.google-widget-body,.modal-body.yandex-widget-body").find(".atlt_translate_progress");t.hide(),t.find(".atlt_actions > .atlt_save_strings").prop("disabled",!0),t.find(".atlt_stats").hide(),t.find(".progress-wrapper").hide(),t.find("#myProgressBar").css("width","0"),t.find("#progressText").text("0%")}function r(t){var a=S(t,"plain");a.length>0?(H(a,type="yandex"),H(a,type="google"),H(a,type="geminiAI"),H(a,type="openAI"),H(a,type="deepl"),H(a,type="ChromeAiTranslator")):(e("#ytWidget").hide(),e(".notice-container").addClass("notice inline notice-warning").html("There is no plain string available for translations."),e(".atlt_string_container, .choose-lang, .atlt_save_strings, #google_translate_element, .translator-widget,.chatGPT_save_close, .chatGPT_save_cont, .notice-info, .is-dismissible").hide())}function i(t,e){const{domain:a}=t||{},{lang:n,region:o}=e;return t?`${a}-${n}-${o}`:`temp-${n}-${o}`}function l(t){const e=500;let a={},n=0,o=[];const s=Object.entries(t);for(let t=0;t<s.length;t++){const[r,i]=s[t],l=i.length,c=Math.ceil(l/4);n+c<=e?(a[r]=i,n+=c):(o.push(a),a={[r]:i},n=c)}return Object.keys(a).length>0&&o.push(a),o}function c(t,a,n,o,s){function r(){_.progressIndicator.fadeIn("slow"),f.find(".progress-wrapper").show(),i()}function i(){f.find(`${o}-widget-header .close`).on("click",()=>{b.stopProcess=!1}),f.find(".close-button").on("click",()=>{_.warningMessage.fadeOut("slow")})}function l(t,e,a,n){function o(t){return Array.isArray(t)&&(t=t.join("")),t.replace(r,(t,e,a)=>String.fromCharCode(parseInt(e||a,16)))}function s(t){if("object"==typeof t){const e=Object.keys(t)[0],a=t[e];if("string"==typeof a&&a.trim()){const t=o(a).replace(/\\/g,"");u&&u[e]&&(i.push(u[e]),l.push(t))}}}const r=/(?:\\{1,2}u([0-9a-fA-F]{4})|\\u([0-9a-fA-F]{4}))/g,i=[],l=[],c=e&&e.batchIndex?e.batchIndex:0,d=e&&e.requestIndex?e.requestIndex:0,p=c*g+d,u=a[p];if(Array.isArray(t)||"deepl"===n){if(u&&"object"==typeof u){const e=Object.keys(u).map(t=>parseInt(t,10)).sort((t,e)=>t-e).map(t=>String(t));for(let a=0;a<e.length&&a<t.length;a++){const n=e[a],s=t[a];if("string"==typeof s&&s.trim()){const t=o(s).replace(/\\/g,"");i.push(u[n]),l.push(t)}}}}else t&&"object"==typeof t&&Object.keys(t).forEach(e=>{Object.prototype.hasOwnProperty.call(t,e)&&s({[e]:t[e]})});return{source:i,target:l}}function c(){const t=Math.round(b.totalTranslatedCount/b.totalSourceCount*100);_.progressBar.css("width",`${t}%`),_.progressText.text(`${t}%`),_.progressText.css("color","#f3f3f3")}function d(){const t=b.totalTranslatedCount<b.totalSourceCount?`Wahooo! You have saved your valuable time by using auto-translation. You have translated <strong class="totalChars">${b.totalTranslatedCount}</strong> characters Out of <strong class="totalChars">${b.totalSourceCount}</strong> characters using <strong><a href="https://wordpress.org/support/plugin/automatic-translator-addon-for-loco-translate/reviews/#new-post" target="_new">LocoAI â€“ Auto Translate for Loco Translate (Pro)</a></strong>`:`Wahooo! You have saved your valuable time via auto translating <strong class="totalChars">${b.totalTranslatedCount}</strong> characters using <strong><a href="https://wordpress.org/support/plugin/automatic-translator-addon-for-loco-translate/reviews/#new-post" target="_new">LocoAI â€“ Auto Translate for Loco Translate (Pro)</a></strong>`;_.stats.html(t),_.translateButton.prop("disabled",!0).css({"background-color":"#cccccc",cursor:"not-allowed",opacity:"1"})}function p(n,o,r){const i={action:"atlt_geminiAI_openAI_ajax_handler",nonce:et,source_data:{locale:a,source:n,selectedApi:s},metadata:{batchIndex:o,requestIndex:r}};return new Promise((a,n)=>{b.ajaxStore.push(e.ajax({url:tt,type:"POST",data:i,success:function(e){if(!b.stopResponse&&!e.success)return b.stopProcess=!1,b.stopResponse=!0,_.warningWrapper.html(`<h2>${e.data}</h2>`),_.warningMessage.fadeIn("slow"),_.progressIndicator.fadeOut("slow"),b.ajaxStore.forEach(t=>t.abort()),void a();if(e.success&&e.data&&e.data.data){const a=l(e.data.data,e.data.metadata,t,s),{source:n,target:o}=a;b.translatedResponse.push(Boolean(e.data.data));let r="";for(let t=0;t<n.length;t++)r+=`<tr id="${b.currentIndex}"><td>${b.currentIndex+1}</td><td class="notranslate source">${W(n[t])}</td>`,r+=`<td class="target translate">${W(o[t])}</td></tr>`,b.currentIndex++;if(b.totalTranslatedCount+=n.reduce((t,e)=>t+e.length,0),b.totalTranslatedWords+=n.reduce((t,e)=>t+e.trim().split(/\s+/).filter(t=>t.length>0).length,0),c(),!b.isModalAppended&&r&&(_.tbody.html(""),b.isModalAppended=!0),r){_.tbody.append(r);const t=f.find(".atlt_string_container");t.off("scroll").stop();const e=t.find(".atlt_strings_table tbody").prop("scrollHeight"),a=3e3;e>100&&"block"===f.css("display")&&t.animate({scrollTop:e},a,"linear")}else u()}a()},error:n}))})}function u(){b.isTbodyEmpty=!0,b.stopProcess=!1,b.stopResponse=!0,_.warningWrapper.find("h2:contains('Translation Aborted.')").length||_.warningWrapper.append("<h2>Translation Aborted.</h2>"),_.warningMessage.fadeIn("slow"),_.progressIndicator.fadeOut("slow"),b.ajaxStore.forEach(t=>t.abort())}async function h(){try{for(let a=0;a<t.length&&("block"!==f.css("display")||b.stopResponse||(b.stopProcess=!0),b.stopProcess);a+=g){const n=t.slice(a,a+g),r=Math.floor(a/g);await Promise.allSettled(n.map((t,e)=>p(t,r,e))),a+g<t.length&&await new Promise(t=>setTimeout(t,m))}function e(){if(!b.uiUpdated){_.progressBar.css({"background-image":"none",animation:"none","background-size":"none"}),b.uiUpdated=!0;const e=new Date,a=Math.round((e-b.startTime)/1e3);function t(t){return t=Number(t),t>=1e6?(t/1e6).toFixed(1).replace(/\.0$/,"")+"M":t>=1e3?(t/1e3).toFixed(1).replace(/\.0$/,"")+"K":t.toString()}f.data("translation-time",a),f.data("translation-provider",o);const n=t(b.totalTranslatedCount);_.progressIndicator.append(`Wahooo! You have saved your valuable time via auto translating ${n} characters using ${"google"===s?"GeminiAI":"deepl"===s?"DeepL":"OpenAI"} Translator`),setTimeout(()=>{f.find(".atlt_save_strings").prop("disabled",!1),_.stats.fadeIn("slow"),_.progressIndicator.fadeOut("slow"),d()},3e3)}}if(b.translatedResponse.some(Boolean)&&!b.isTbodyEmpty){const i=f.find(".atlt_string_container"),l=i[0].scrollHeight,c=i[0].offsetHeight;i.on("scroll",function(){const t=i[0].scrollHeight,a=i[0].scrollTop,n=i[0].clientHeight,o=5,s=Math.ceil(a+n)>=t-o;s&&e()}),c==l&&e()}else _.progressIndicator.fadeOut("slow"),u()}catch(h){console.error("An error occurred during the AJAX processing:",h),_.progressIndicator.fadeOut("slow")}}const g=15,m=0,b={ajaxStore:[],totalSourceCount:Object.values(n).reduce((t,e)=>t+e.length,0),isModalAppended:!1,isTbodyEmpty:!1,translatedResponse:[],totalTranslatedCount:0,totalTranslatedWords:0,currentIndex:0,stopProcess:!0,stopResponse:!1,uiUpdated:!1,startTime:new Date},f=e(`#${o}-widget-model`),_={progressBar:f.find("#myProgressBar"),progressText:f.find("#progressText"),tbody:f.find(".atlt_strings_table > tbody.atlt_strings_body"),warningWrapper:f.find(".warning-massage-content"),warningMessage:f.find(".atlt_translate_warning-massage"),progressIndicator:f.find(".atlt_translate_progress"),translateButton:f.find(`#${o}_translate_button`),stats:f.find(".atlt_stats")};r(),h().catch(t=>{console.error("An error occurred during the AJAX processing:",t),_.progressIndicator.fadeOut("slow")})}function d(t){const a=t.lang||null;let n="";const o={bel:"be",snd:"sd",jv:"jv",nb:"no",nn:"no"};n=o[a]||a;let s=e("div#yandex-widget-model.yandex-widget-container");s.find(".atlt_actions > .atlt_save_strings").prop("disabled",!0),s.find(".atlt_stats").hide(),localStorage.setItem("lang",n);const r=["kir","he","af","jv","no","am","ar","az","ba","be","bg","bn","bs","ca","ceb","cs","cy","da","de","el","en","eo","es","et","eu","fa","fi","fr","ga","gd","gl","gu","he","hi","hr","ht","hu","hy","id","is","it","ja","jv","ka","kk","km","kn","ko","ky","la","lb","lo","lt","lv","mg","mhr","mi","mk","ml","mn","mr","mrj","ms","mt","my","ne","nl","no","pa","pap","pl","pt","ro","ru","si","sk","sl","sq","sr","su","sv","sw","ta","te","tg","th","tl","tr","tt","udm","uk","ur","uz","vi","xh","yi","zh"];r.includes(n)?(e("#atlt-dialog").dialog("close"),s.fadeIn("slow")):(e("#atlt-dialog").dialog("close"),s.find(".notice-container").addClass("notice inline notice-warning").html("Yandex Automatic Translator Does not support this language."),s.find(".atlt_string_container, .choose-lang, .atlt_save_strings, #ytWidget, .translator-widget, .notice-info, .is-dismissible").hide(),s.fadeIn("slow"))}function p(t){var n=t.lang?t.lang:null;switch(n){case"bel":defaultlang="be";break;case"he":defaultlang="iw";break;case"snd":defaultlang="sd";break;case"jv":defaultlang="jw";break;case"nb":case"nn":defaultlang="no";break;default:defaultlang=n}var o=["ckb","szl","oci","kir","fur","bo","as","af","en","zh","no","sq","am","ar","hy","az","eu","be","bn","bs","bg","ca","ceb","ny","zh-CN","zh-TW","co","hr","cs","da","nl","eo","et","tl","fi","fr","fy","gl","ka","de","el","gu","ht","ha","haw","iw","hi","hmn","hu","is","ig","id","ga","it","ja","jw","kn","kk","km","rw","ko","ku","ky","lo","la","lv","lt","lb","mk","mg","ms","ml","mt","mi","mr","mn","my","ne","no","or","ps","fa","pl","pt","pa","ro","ru","sm","gd","sr","st","sn","sd","si","sk","sl","so","es","su","sw","sv","tg","ta","tt","te","th","tr","tk","uk","ur","ug","uz","vi","cy","xh","yi","yo","zu"];let s=e("div#google-widget-model.google-widget-container");s.find(".atlt_actions > .atlt_save_strings").prop("disabled",!0),s.find(".atlt_stats").hide(),o.includes(defaultlang)?(e("#atlt-dialog").dialog("close"),s.fadeIn("slow"),a()):(e("#atlt-dialog").dialog("close"),s.find(".notice-container").addClass("notice inline notice-warning").html("Google Automatic Translator Does not support this language."),s.find(".atlt_string_container, .choose-lang, .atlt_save_strings, .translator-widget, .notice-info, .is-dismissible").hide(),s.fadeIn("slow"))}async function u(t){var n=t.lang?t.lang:null;switch(n){case"bel":defaultlang="be";break;case"he":defaultlang="iw";break;case"snd":defaultlang="sd";break;case"jv":defaultlang="jw";break;case"nb":case"nn":defaultlang="no";break;default:defaultlang=n}let o=e("div#ChromeAiTranslator-widget-model.ChromeAiTranslator-widget-container");o.find(".atlt_actions > .atlt_save_strings").prop("disabled",!0),o.find(".atlt_stats").hide(),e("#atlt-dialog").dialog("close"),o.fadeIn("slow"),a(),Z&&e("#ChromeAiTranslator-widget-model").find(".atlt_save_strings").prop("disabled",!1)}function h(){function t(t){return t=Number(t),t>=1e6?(t/1e6).toFixed(1).replace(/\.0$/,"")+"M":t>=1e3?(t/1e3).toFixed(1).replace(/\.0$/,"")+"K":t.toString()}function a(a){var n=e(".atlt_stats .totalChars").first().text().trim(),o=t(n),s=`Wahooo! You have saved your valuable time via auto translating ${o} characters using Google Translator`;a.data("message-added")||(a.data("message-added",!0),a.find(".atlt_translate_progress").append(s))}var n=e("#google-widget-model"),o=n.find(".atlt_string_container");const s=new Date;o.scrollTop(0);var r=o[0].scrollHeight,i=Math.min(1e4,r);if(void 0!==r&&r>100){n.find(".progress-wrapper").show(),n.find(".atlt_translate_progress").fadeIn("slow");const t=n.find(".progress-wrapper .progress-bar");setTimeout(()=>{n=e("#google-widget-model"),"block"===n.css("display")?o.animate({scrollTop:r+2e3},2*i,"linear"):n.find(".atlt_translate_progress").fadeOut()},2e3),o.on("scroll",function(r){if(n=e("#google-widget-model"),"none"===n.css("display"))return n.find(".atlt_translate_progress").fadeOut("slow"),o.stop(),void o.scrollTop(0);var i=r.target.scrollTop,l=r.target.scrollHeight,c=r.target.clientHeight,d=i/(l-c)*100;t.css("width",d+"%"),t.find("#progressText").text((Math.round(10*d)/10).toFixed(1)+"%");var p=e(this).scrollTop()+e(this).innerHeight()+50>=e(this)[0].scrollHeight;p&&(a(n),setTimeout(()=>{g(n,s)},4e3))}),o.innerHeight()+10>=r&&(a(n),setTimeout(()=>{g(n,s)},1500))}else a(n),setTimeout(()=>{g(n,s)},2e3)}function g(t,a){Z=!0;const n=e(".goog-te-combo option:selected").val();if(Z&&n){const n=new Date,o=Math.round((n-a)/1e3);t.find(".atlt_save_strings").prop("disabled",!1),t.find(".atlt_stats").fadeIn("slow"),t.find(".atlt_translate_progress").fadeOut("slow"),t.find(".atlt_string_container").stop(),e("body").css("top","0"),t.data("translation-time",o),t.data("translation-provider","google")}else e(".atlt_custom_model.google-widget-container").find(".atlt_string_container").scrollTop(0),Z=!1}function m(t,a,n,o,s,r,i){modelContainer=e("div#chatGPT-widget-model.chatGPT-widget-container"),e("#atlt-dialog").dialog("close"),e(".modal-footer.chatGPT-widget-footer .atlt_actions").addClass("chatGPT_disable"),e(".chatGPT_save_cont").addClass("btn-disabled"),e(".chatGPT_save_close").addClass("btn-disabled"),modelContainer.fadeIn("slow"),modelContainer.find(".atlt_string_container, .atlt_save_strings").hide(),b(o,i,n,modelContainer),modelContainer.find(".chatGptError, .chatGPT_table, .chatGPT_table_close, .clear-button, .preview-button").hide(),v(s),e(".chatGPT_step-1").addClass("chatGPT_steps-border"),e(".chatGPT_step-2, .chatGPT_step-3").removeClass("chatGPT_steps-border"),T(o,s,modelContainer,a);var l=o.length,c=0,d=e("#chatGPT_progressbar");1==l&&(e(".chatGPT_progress").hide(),e(`#chatGPT_progress-label${s}`).hide(),e(".preview-button").css({top:"231px"})),d.css("width",0);var p=`(${c+1} / ${l} Parts)`;e(`#chatGPT_progress-label${s}`).text(p),e("#prevButton").on("click",function(){if(s>0){var t=e(`#chatGptError${s}`);if(s--,T(o,s,modelContainer,a),v(s),e(`#chatGPT_table_close${s}`).hide(),e(`#table${s}`).hide(),e(`#Part${s}`).show(),e(`#chatGPT_steps${s}`).show(),t&&(e(".chatGptError, .clear-button, .preview-button").hide(),e("textarea").val("")),0==c)return;c--,d.css("width",Math.round(100*c/l)+"%");var n=`(${c+1} / ${l} Parts)`;const r=localStorage.getItem(`${a}-part${s+1}`);if(r){const t=JSON.parse(r);w(t,s)}e(`#chatGPT_progress-label${s}`).text(n),e(".modal-footer.chatGPT-widget-footer .atlt_actions").removeClass("chatGPT_disable"),e(".chatGPT_save_cont").removeClass("btn-disabled"),e(".chatGPT_save_close").removeClass("btn-disabled"),e(".chatGPT_step-1, .chatGPT_step-2, .chatGPT_step-3").removeClass("chatGPT_steps-border")}}),e(".chatGPT_save_cont:first").on("click",function(){e(".modal-footer.chatGPT-widget-footer .atlt_actions").addClass("chatGPT_disable"),e("#prevButton").show(),e(".chatGPT_save_cont").addClass("btn-disabled"),e(".chatGPT_save_close").addClass("btn-disabled"),e("#prevButton, .notice, .inline, .notice-info, .is-dismissible").show();const t=localStorage.getItem(`${a}-part${s+1}`),n=localStorage.getItem(`${a}-part${s+2}`);if((t||n)&&s<o.length-1){var r=e(`#chatGptError${s}`);if(s++,T(o,s,modelContainer,a),v(s),r&&(e(".chatGptError, .clear-button, .preview-button").hide(),e("textarea").val("")),c>=l)return;c++,d.css("width",Math.round(100*c/l)+"%");var i=`(${c+1} / ${l} Parts)`;if(e(`#chatGPT_progress-label${s}`).text(i),localStorage.getItem(`${a}-part${s+1}`)){e(".modal-footer.chatGPT-widget-footer .atlt_actions").removeClass("chatGPT_disable"),e(".chatGPT_save_cont").removeClass("btn-disabled"),e(".chatGPT_save_close").removeClass("btn-disabled"),e(".chatGPT_step-1, .chatGPT_step-2, .chatGPT_step-3").removeClass("chatGPT_steps-border");const t=JSON.parse(n);w(t,s)}else e(".chatGPT_step-2, .chatGPT_step-3").removeClass("chatGPT_steps-border"),e(".chatGPT_step-1").addClass("chatGPT_steps-border")}}),e(".chatGPT_save_close").on("click",function(){const t=localStorage.getItem(`${a}-part${s+1}`);if(t){const t=A(o,r),n=t.reduce((t,e)=>t+e.source.length,0),s=t.reduce((t,e)=>t+e.source.split(/\s+/).length,0),i="ChatGPT",l=0,c={time_taken:l,translation_provider:i,character_count:n,string_count:s,pluginORthemeName:it};M(t,a,c),e("#chatGPT-widget-model").fadeOut("slow",function(){for(let t=0;t<o.length;t++)localStorage.removeItem(`${a}-part${t+1}`),e(".container").length>0&&e(".container").remove()}),e("html").addClass("merge-translations"),k()}}),P(o,a),C(o,t,a,r,modelContainer)}function b(t,a,n,o){t.length=0;const s=document.getElementById("tabContainer"),r=Object.keys(a),i=500;let l={},c=0,d=0;for(const p of r){const r=f(a[p]);if(c+r>i){t.push(l);const e=_(t.length-1,o);s.appendChild(e),l={},c=0,d=0}if(d>=n){t.push(l);const e=_(t.length-1,o);s.appendChild(e),l={},c=0,d=0}if(l[p]=a[p],c+=r,d++,c>=i){t.push(l);const e=_(t.length-1,o);s.appendChild(e),l={},c=0,d=0}e(".chatGptError").hide()}if(Object.keys(l).length>0){t.push(l);const e=_(t.length-1,o);s.appendChild(e)}return s}function f(t){return t.split(" ").length}function _(t,e){const a=document.createElement("div");return a.className="container",a.innerHTML=`\n        <input type="hidden" data-nextIndexVal="${t}" id= "input${t}">\n        <h1 style ="text-align: center;" id="Part${t}">Part ${t+1} <span style= "font-size: large;" id="chatGPT_progress-label${t}"></span></h1>\n        <div class="formBody">\n        <input type="hidden" id="translate${t}">\n    \n        <table class="chatGPT_steps" id="chatGPT_steps${t}">\n            <tr>\n            <td class= "chatGPT_step-1">\n              <h2>Step 1</h2>\n              <p>Click on the copy button to copy the strings</p>\n              <button class="button button-primary copy-button" id="copyButton${t}" type="button" name="copy">Copy</button>\n            </td>\n            <td class= "chatGPT_step-2">\n              <h2>Step 2</h2>\n              <p>Visit <a class = "chatGPT_step-2-anchor" href="https://chat.openai.com/" target="_blank">https://chat.openai.com/</a><br/>and paste strings in ChatGPT<br/>for translation.</p>\n            </td>\n            </tr>\n            <tr>\n            <td colspan="2" class= "chatGPT_step-3">\n              <h2>Step 3</h2>\n              <p>Now copy the translated string that ChatGPT gives you and paste it into the below section <span style="font-size: smaller;">(must be in JSON Format) <button type="button" class="preview-button button button-primary" id="preview${t}">Preview</button></span></p>\n              <div style="position: relative;">\n                        <textarea id="output${t}" class="output-box" rows="5" cols="130" style="width: 100%;" placeholder="Add translated strings here..."></textarea>\n                        <button type="button" class="clear-button button button-primary" id="clearButton${t}">Clear</button>\n                </div>\n            </td>\n            </tr>\n            </table>\n            </div>\n            <button type= "button" class="button button-primary chatGPT_table_close" id = "chatGPT_table_close${t}" style="float:right; font-size:14px; margin: 10px 0;">Close</button>\n            <div id="table${t}" class = "chatGPT_table"></div>`,a}function v(t){e(".container").hide(),e(`.container:eq(${t})`).show()}function y(t,a){e(".chatGptError").attr("id",`chatGptError${a}`),e(`#chatGptError${a}`).html(t)}function T(t,a,n,o){t.length<=1?(e("#prevButton").prop("disabled",!0),e(".chatGPT_save_cont").prop("disabled",!0)):0===a?(e("#prevButton").prop("disabled",!0),e(".chatGPT_save_cont").prop("disabled",!1)):a===t.length-1?(e("#prevButton").prop("disabled",!1),e(".chatGPT_save_cont").prop("disabled",!0)):(e("#prevButton").prop("disabled",!1),e(".chatGPT_save_cont").prop("disabled",!1))}function w(t,a){const n=document.getElementById(`output${a}`);if(n){const e=Object.entries(t).map(([t,e])=>({id:parseInt(t),target:e.target}));e.sort((t,e)=>t.id-e.id),n.value=JSON.stringify(e,null,2)}e(`#clearButton${a}`).show(),e(`#preview${a}`).show()}function P(t,a){t.forEach((t,n)=>{const o=localStorage.getItem(`${a}-part${n+1}`);if(o){const t=JSON.parse(o);let a='<table class="table">';a+='<tr><th scope="col">S. No.</th><th scope="col">Source</th><th scope="col">Target</th></tr>',Object.keys(t).forEach((e,n)=>{const o=t[e].source,s=t[e].target,r=o?$(o):"",i=s?$(s):"";a+=`<tr><td>${e}</td><td class = "source">${r}</td><td class = "target">${i}</td></tr>`}),a+="</table>";const s=document.querySelector(`#table${n}`);s.innerHTML=a,e(".chatGPT_step-1").removeClass("chatGPT_steps-border"),w(t,n),e(".modal-footer.chatGPT-widget-footer .atlt_actions").removeClass("chatGPT_disable"),e(".chatGPT_save_cont").removeClass("btn-disabled"),e(".chatGPT_save_close").removeClass("btn-disabled")}else{const e=document.querySelector(`#table${n}`);let a='<table class="table">';a+='<tr><th scope="col">S. No.</th><th scope="col">Source</th><th scope="col">Target</th></tr>',Object.keys(t).forEach((e,n)=>{const o=t[e],s=o?W(o):"";a+=`<tr><td>${e}</td><td class = "source">${s}</td><td class = "target"></td></tr>`}),a+="</table>",e.innerHTML=a}})}function $(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function G(t,a,n,o){function s(n){try{return JSON.parse(n),!0}catch(n){if(a.startsWith("You are a helpful assistant that translates and replies with well-formed JSON")){var o="Untranslated Strings! *You have pasted the untranslated strings, Please translate them first";return e(".chatGptError").show(),y(o,t),!1}o='Invalid JSON Format! *Please enter a valid JSON-formatted string in the textarea. Click <a href="https://locoaddon.com/docs/pro-plugin/ai-translation-issues-and-solutions/" target="_blank">here</a> to validate your JSON';e(".chatGptError").show(),y(o,t)}}const r={};if(s(a)){const s=JSON.parse(a);if(Array.isArray(s)){const a=document.querySelector(`#table${t}`);if(s&&s[0]&&s[0][1]&&s[0][1].source){if(firstSourceInTable!==s[0][1].source){i="Wrong translated strings! *Please enter right strings translation";return e(".chatGptError").show(),y(i,t),!1}{a.innerHTML="";let o='<table class="table">';o+='<tr><th scope="col">S. No.</th><th scope="col">Source</th><th scope="col">Target</th></tr>',s.forEach((a,n)=>{if("object"==typeof a&&null!==a){const n=Object.keys(a)[0],{source:i,target:l}=a[n],c=i?$(i):"",d=l?$(l):"";o+=`<tbody><tr><td>${n}</td><td class="source">${c}</td><td class="target">${d}</td></tr></tbody>`,r[n]={source:i,target:l};var s="";e(".chatGptError").hide(),y(s,t),e(".modal-footer.chatGPT-widget-footer .atlt_actions").removeClass("chatGPT_disable"),e(".chatGPT_save_cont").removeClass("btn-disabled"),e(".chatGPT_save_close").removeClass("btn-disabled")}}),o+="</table>",a.innerHTML+=o;const l=JSON.stringify(r);localStorage.setItem(`${n}-part${t+1}`,l),e(".chatGPT_step-1, .chatGPT_step-2, .chatGPT_step-3").removeClass("chatGPT_steps-border");var i="";e(".chatGptError").hide(),y(i,t),e(".modal-footer.chatGPT-widget-footer .atlt_actions").removeClass("chatGPT_disable"),e(".chatGPT_save_cont").removeClass("btn-disabled"),e(".chatGPT_save_close").removeClass("btn-disabled")}}else if(Array.isArray(s)&&s.length>0&&s.every(t=>t.hasOwnProperty("target"))){const l=[];if(s.forEach(t=>{if(t.id){const e=o.find(e=>e.id===t.id);e&&l.push({key:t.id,source:e.source,target:t.target})}}),!(l.length>0)){i="Wrong translated strings! *Please enter right strings translation";return e(".chatGptError").show(),y(i,t),!1}{a.innerHTML="";let o='<table class="table">';o+='<tr><th scope="col">S. No.</th><th scope="col">Source</th><th scope="col">Target</th></tr>',l.forEach(a=>{const n=a.source?$(a.source):"",s=a.target?$(a.target):"";o+=`<tbody><tr><td>${a.key}</td><td class="source">${n}</td><td class="target">${s}</td></tr></tbody>`,r[a.key]={source:a.source,target:a.target};var i="";e(".chatGptError").hide(),y(i,t),e(".modal-footer.chatGPT-widget-footer .atlt_actions").removeClass("chatGPT_disable"),e(".chatGPT_save_cont").removeClass("btn-disabled"),e(".chatGPT_save_close").removeClass("btn-disabled")}),o+="</table>",a.innerHTML+=o;const s=JSON.stringify(r);localStorage.setItem(`${n}-part${t+1}`,s),e(".chatGPT_step-1, .chatGPT_step-2, .chatGPT_step-3").removeClass("chatGPT_steps-border");var i="";e(".chatGptError").hide(),y(i,t),e(".modal-footer.chatGPT-widget-footer .atlt_actions").removeClass("chatGPT_disable"),e(".chatGPT_save_cont").removeClass("btn-disabled"),e(".chatGPT_save_close").removeClass("btn-disabled")}}}else{if("object"!=typeof s||Array.isArray(s)){i="Invalid JSON Format! *Please enter a valid JSON-formatted String in the textarea.";return e(".chatGptError").show(),y(i,t),!1}{const a=Object.keys(s),o=document.querySelector(`#table${t}`),l=o.querySelectorAll(".source"),c=l[0].textContent;if(c!==s[a[0]].source){i="Wrong translated strings! *Please enter right strings translation";return e(".chatGptError").show(),y(i,t),!1}{let l='<table class="table">';l+='<tr><th scope="col">S. No.</th><th scope="col">Source</th><th scope="col">Target</th></tr>',a.forEach(t=>{const{source:e,target:a}=s[t],n=e?$(e):"",o=a?$(a):"";l+=`<tbody><tr><td>${t}</td><td class="source">${n}</td><td class="target">${o}</td></tr></tbody>`,r[t]={source:e,target:a}}),l+="</table>",o.innerHTML=l;const c=JSON.stringify(r);localStorage.setItem(`${n}-part${t+1}`,c),e(".chatGPT_step-1, .chatGPT_step-2, .chatGPT_step-3").removeClass("chatGPT_steps-border");var i="";e(".chatGptError").hide(),y(i,t),e(".modal-footer.chatGPT-widget-footer .atlt_actions").removeClass("chatGPT_disable"),e(".chatGPT_save_cont").removeClass("btn-disabled"),e(".chatGPT_save_close").removeClass("btn-disabled")}}}}}function C(a,n,o,s,r){a.forEach((s,i)=>{const l=Object.entries(s).map(([t,e])=>({id:Number(t),source:e.trim()})),c=JSON.stringify(l,null,2),d=`\n                You are translating a JSON array into **${n.label}**. Follow these instructions carefully to maintain accuracy and formatting:\n\n                ### **Translation Rules:**\n                1. **Preserve Placeholders** â€“ Do **not** translate placeholders like \`%s\`, \`%d\`, \`%S\`, \`%D\`.\n                2. **Keep Original IDs** â€“ Retain the \`id\` key as is. If a string is skipped, its \`id\` must still be included.\n                3. **Strict JSON Format** â€“ Output must be a **valid JSON array** with **only** \`id\` and \`target\` keys.\n                4. **Exclude 'source' Key** â€“ The \`source\` field must not appear in the output.\n                5. **Escape Special Characters** â€“ Ensure valid JSON by properly escaping quotes (\`"\` and \`'\`).\n                6. **Accurate Translation** â€“ Each string must be correctly translated into **${n.label}**, even if some translations remain the same.\n                7. **Complete Output** â€“ Translate **all ${l.length} items**, ensuring the exact same count in the final array.\n\n                ---\n\n                ### **Input JSON:**\n                \`\`\`json\n                ${c}\n                \`\`\`\n\n                ### **Expected Output Format:**\n                \`\`\`json\n                [\n                { "id": 1, "target": "(translated text in ${n.label})" },\n                { "id": 2, "target": "(translated text in ${n.label})" },\n                ...\n                ]\n                \`\`\`\n\n                ### **Final Notes:**\n                - **Ensure valid and complete JSON output** without missing or extra entries.\n                - **Follow the specified format exactly.** No additional keys or modifications are allowed.\n                - **Do not include any explanations**â€”return only the JSON array.\n\n                `;document.getElementById(`translate${i}`).value=d;const p=document.getElementById(`copyButton${i}`);p.addEventListener("click",function(){e(".chatGPT_step-1, .chatGPT_step-3, .chatGPT_save_cont").removeClass("chatGPT_steps-border"),e(".chatGPT_step-2").addClass("chatGPT_steps-border");const a=document.getElementById(`translate${i}`),n=document.createElement("textarea");n.value=a.value,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),p.innerText="Copied",setTimeout(()=>{t.open("https://chat.openai.com","_blank")},800),setTimeout(function(){e(".chatGPT_step-2").removeClass("chatGPT_steps-border"),e(".chatGPT_step-3").addClass("chatGPT_steps-border")},1e3),setTimeout(()=>{p.innerText="Copy"},6e3)});const u=document.getElementById(`output${i}`);u.addEventListener("input",function(t){setTimeout(function(){const t=u.value;if(""!==t&&(G(i,t,o,l),e(`#clearButton${i}`).show(),e(`#preview${i}`).show()),""==t){var a="";e(".chatGptError").hide(),e(`#clearButton${i}`).hide(),e(`#preview${i}`).hide(),e(".modal-footer.chatGPT-widget-footer .atlt_actions").addClass("chatGPT_disable"),e(".chatGPT_save_cont").addClass("btn-disabled"),e(".chatGPT_save_close").addClass("btn-disabled"),y(a,i)}},100)});const h=document.getElementById(`clearButton${i}`);h.addEventListener("click",function(){e(`#output${i}`).val(""),e(`#clearButton${i}`).hide(),e(`#preview${i}`).hide();var t="";e(".chatGptError").hide(),y(t,i)});const g=document.getElementById(`preview${i}`);g.addEventListener("click",function(){e(`#Part${i}`).hide(),
e(`#chatGPT_steps${i}`).hide(),e("#prevButton, .notice, .inline, .notice-info, .is-dismissible").hide(),e(`#chatGPT_table_close${i}`).show(),e(`#table${i}`).show()});const m=document.getElementById(`chatGPT_table_close${i}`);m.addEventListener("click",function(){e(`#Part${i}`).show(),e(`#chatGPT_steps${i}`).show(),e("#prevButton, .notice, .inline, .notice-info, .is-dismissible").show(),e(`#chatGPT_table_close${i}`).hide(),e(`#table${i}`).hide()}),setInterval(function(){const t=localStorage.getItem(`${o}-part${a.length}`);e(".chatGptError").is(":empty")&&t?r.find(".atlt_stats").fadeIn("slow"):r.find(".atlt_stats").hide()},200)})}function A(t,a){const n={'"% s"':'"%s"','"% d"':'"%d"','"% S"':'"%s"','"% D"':'"%d"',"% s":" %s ","% S":" %s ","% d":" %d ","% D":" %d ","Ùª s":" %s ","Ùª S":" %s ","Ùª d":" %d ","Ùª D":" %d ","Ùª Ø³":" %s ","%S":" %s ","%D":" %d ","% %":"%%"},o=/(\%\s*\d+\s*\$?\s*[a-z0-9])/gi;return t.forEach((t,s)=>{e(`#table${s} tbody tr`).slice(1).each(function(t){e(this).find("td.source").text();var s=e(this).find("td.target").text(),r=e(this).find("td.source").text();let i,l;if(""!=s&&""!=r){const t=B(s,n),e=B(r,n);i=t.replace(o,function(t){return t.replace(/\s/g,"").toLowerCase()}),l=e.replace(o,function(t){return t.replace(/\s/g,"").toLowerCase()})}null!=i&&null!=l&&a.push({source:l,target:i})})}),a}function I(){let t=[],a=this.getAttribute("data-type"),n=0,o=0;const s={'"% s"':'"%s"','"% d"':'"%d"','"% S"':'"%s"','"% D"':'"%d"',"% s":" %s ","% S":" %s ","% d":" %d ","% D":" %d ","Ùª s":" %s ","Ùª S":" %s ","Ùª d":" %d ","Ùª D":" %d ","Ùª Ø³":" %s ","%S":" %s ","%D":" %d ","% %":"%%"},r=/(\%\s*\d+\s*\$?\s*[a-z0-9])/gi;e("."+a+"-widget-body").find(".atlt_strings_table tbody tr").each(function(){const a=e(this).find("td.source").text(),i=e(this).find("td.target").text(),l=B(i,s),c=B(a,s),d=l.replace(r,function(t){return t.replace(/\s/g,"").toLowerCase()}),p=c.replace(r,function(t){return t.replace(/\s/g,"").toLowerCase()});n+=p.length,o+=p.split(/\s+/).length,t.push({source:p,target:d})});const i=e(this).closest(".atlt_custom_model"),l=i.data("translation-provider"),c=i.data("translation-time"),{lang:d,region:p}=X.conf.locale,u=p?`${d}_${p}`:d,h=t.reduce((t,e)=>t+e.source.length,0),g=t.length,m={time_taken:c,translation_provider:l,character_count:h,string_count:g,pluginORthemeName:it,target_language:u};var b=e(this).parents(".atlt_custom_model").find("#project_id").val();M(t,b,m),e(".atlt_custom_model").fadeOut("slow"),e("html").addClass("merge-translations"),k()}function k(){var t=setInterval(function(){var a=e(".loco-modal"),n=e(".loco-modal #loco-apis-batch");if(a.length&&a.attr("style").indexOf("none")<=-1&&a.find("#loco-job-progress").length){e("html").removeClass("merge-translations"),n.find("a.icon-help, a.icon-group, #loco-job-progress").hide(),n.find("select#auto-api").hide();var o=e("select#auto-api option[value='loco_auto']").prop("selected","selected");n.find("select#auto-api").val(o.val()),a.find(".ui-dialog-titlebar .ui-dialog-title").html("Step 3 - Add Translations into Editor and Save"),n.find("button.button-primary span").html("Start Adding Process"),n.find("button.button-primary").on("click",function(){e(this).find("span").html("Adding...")}),a.addClass("addtranslations"),e(".noapiadded").remove(),n.find("form").show(),n.removeClass("loco-alert"),clearInterval(t)}},200)}function x(t){if(void 0!==t.originalEvent)var a=setInterval(function(){var t=e(".loco-modal"),n=t.find("#loco-apis-batch"),o=t.find(".ui-dialog-titlebar .ui-dialog-title");if(n.length&&!t.is(":hidden")){t.removeClass("addtranslations"),n.find("select#auto-api").show(),n.find("a.icon-help, a.icon-group").show(),n.find("#loco-job-progress").show(),o.html("Auto-translate this file"),n.find("button.button-primary span").html("Translate");var s=n.find("select#auto-api option").length;1===s&&(n.find(".noapiadded").remove(),n.removeClass("loco-alert"),n.find("form").hide(),n.addClass("loco-alert"),o.html("No translation APIs configured"),n.append("<div class='noapiadded'>\n                            <p>Add automatic translation services in the plugin settings.<br>or<br>Use <strong>Auto Translate</strong> addon button.</p>\n                            <nav>\n                                <a href='http://locotranslate.local/wp-admin/admin.php?page=loco-config&amp;action=apis' class='button button-link has-icon icon-cog'>Settings</a>\n                                <a href='https://localise.biz/wordpress/plugin/manual/providers' class='button button-link has-icon icon-help' target='_blank'>Help</a>\n                                <a href='https://localise.biz/wordpress/translation?l=de-DE' class='button button-link has-icon icon-group' target='_blank'>Need a human?</a>\n                            </nav>\n                        </div>")),clearInterval(a)}},100)}function S(t,e){return t.filter(t=>!(!t.source||t.target)&&(!(O(t.source)||E(t.source)||j(t.source)||L(t.source)||t.source.includes("#"))&&(N(t.source),!0)))}function O(t){var e=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return e.test(t)}function E(t){var e=/<(?=.*? .*?\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\/\1>/i;return e.test(t)}function j(t){var e=/[@^{}|<>]/g;return e.test(t)}function L(t){var e=["(?:[âœ€-âž¿]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[#-9]ï¸?âƒ£|ãŠ™|ãŠ—|ã€½|ã€°|â“‚|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|ðŸ†Ž|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|ðŸˆš|ðŸˆ¯|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|â€¼|â‰|[â–ª-â–«]|â–¶|â—€|[â—»-â—¾]|Â©|Â®|â„¢|â„¹|ðŸ€„|[â˜€-â›¿]|â¬…|â¬†|â¬‡|â¬›|â¬œ|â­|â­•|âŒš|âŒ›|âŒ¨|â|[â©-â³]|[â¸-âº]|ðŸƒ|â¤´|â¤µ|[â†-â‡¿])"];return t.match(e.join("|"))}function N(t){var e=/%s|%d/g;return e.test(t)}function B(t,e,a){return!!t&&{2:function(){for(var a in e)t=B(t,a,e[a]);return t},3:function(){return t.replace(RegExp(e,"g"),a)},0:function(){}}[arguments.length]()}function M(t,e,a){if(t&&t.length>0){const n=2500;for(let o=0;o<t.length;o+=n){const s=t.slice(o,o+n),r=`-part-${Math.ceil(o/n)}`;z(s,e,r,a)}}}function z(t,a,n,o){const s={action:"save_all_translations",data:JSON.stringify(t),part:n,"project-id":a,wpnonce:et,translation_data:JSON.stringify(o)};e.ajax({url:tt,method:"POST",data:s,dataType:"json",success:function(t){e('#loco-editor nav button[data-loco="auto"]').trigger("click")},error:function(t,e,a){console.error(a)}})}function D(){const t=e("#loco-editor nav").find("#cool-auto-translate-btn");t.length>0&&t.remove();const a=e("#loco-editor nav").find("#loco-actions"),n=e('<fieldset><button id="cool-auto-translate-btn" class="button has-icon icon-translate">Auto Translate</button></fieldset>');a.append(n)}function J(){e("#atlt-dialog").dialog({dialogClass:nt,resizable:!1,height:"auto",width:400,modal:!0,draggable:!1,buttons:{Cancel:function(){e(this).dialog("close")}}})}function W(t){for(var e=[],a=t.length-1;a>=0;a--)e.unshift(["&#",t[a].charCodeAt(),";"].join(""));return e.join("")}function H(t,a){let n="",o=0,s=1,r="yandex"===a?'translate="yes"':"";if(t){for(const e in t)if(t.hasOwnProperty(e)){const i=t[e],l=i.source.trim();if(""!==l&&("yandex"==a||"google"==a||"deepl"==a||"geminiAI"==a||"openAI"==a||"ChromeAiTranslator"==a)){n+=`<tr id="${e}"><td>${s}</td><td class="notranslate source">${W(l)}</td>`,n+="yandex"==a||"google"==a||"ChromeAiTranslator"==a?`<td   ${r}  class="target translate">${l}</td></tr>`:'<td class="target translate"></td></tr>';const t=document.createElement("div");t.innerHTML=l,s++,o+=t.innerText.length}}e(".atlt_stats").each(function(){e(this).find(".totalChars").html(o)})}e("#"+a+"-widget-model").find(".atlt_strings_table > tbody.atlt_strings_body").html(n)}function R(){const t={yandex:extradata.yt_preview,google:extradata.gt_preview,deepl:extradata.dpl_preview,chatgpt:extradata.chatGPT_preview,gemini:extradata.geminiAI_preview,openai:extradata.openai_preview,chrome:extradata.chromeAi_preview,docs:extradata.document_preview,error:extradata.error_preview},a="https://locoaddon.com/docs/",n=e=>at+"assets/images/"+t[e],o=`<img src="${n("docs")}" width="20" alt="Docs">`,s=Array.isArray(ot)&&ot.includes("google"),r=Array.isArray(ot)&&ot.includes("openai"),i=Array.isArray(ot)&&ot.includes("deepl"),l=[{name:"Google Translate",icon:"google",info:"https://translate.google.com/",doc:`${a}auto-translations-via-google-translate/?utm_source=atlt_plugin&utm_medium=inside&utm_campaign=docs&utm_content=popup_google_pro`,btn:'<button id="atlt_google_translate_btn" class="atlt-provider-btn translate">Translate</button>'},{name:"Chrome Built-in AI",icon:"chrome",info:"https://developer.chrome.com/docs/ai/translator-api",doc:`${a}how-to-use-chrome-ai-auto-translations/?utm_source=atlt_plugin&utm_medium=inside&utm_campaign=docs&utm_content=popup_chrome_pro`,btn:`\n                    <button id="ChromeAiTranslator_settings_btn" class="atlt-provider-btn translate">Translate</button>\n                    <button id="atlt-chromeai-disabled-message" class="atlt-provider-btn error d-none">\n                        <img src="${n("error")}" alt="error" style="height:16px; vertical-align:middle; margin-right:5px;">\n                        View Error\n                    </button>\n                    <div id="atlt-chromeai-disabled-message-content" style="display:none;"></div>\n                `},{name:"Yandex Translate",icon:"yandex",info:"https://translate.yandex.com/",doc:`${a}translate-plugin-theme-via-yandex-translate/?utm_source=atlt_plugin&utm_medium=inside&utm_campaign=docs&utm_content=popup_yandex`,btn:'<button id="atlt_yandex_translate_btn" class="atlt-provider-btn translate">Translate</button>'},{name:"ChatGPT Translate",icon:"chatgpt",info:"https://chat.openai.com/",doc:`${a}chatgpt-ai-translations-wordpress/?utm_source=atlt_plugin&utm_medium=inside&utm_campaign=docs&utm_content=popup_chatgpt_pro`,btn:'<button id="atlt_chatGPT_btn" class="atlt-provider-btn translate">Translate</button>'},{name:"Gemini AI Translate",icon:"gemini",info:"https://locoaddon.com/docs/pro-plugin/how-to-use-gemini-ai-to-translate-plugins-or-themes/",doc:`${a}gemini-ai-translations-wordpress/?utm_source=atlt_plugin&utm_medium=inside&utm_campaign=docs&utm_content=popup_gemini_pro`,btn:s?'<button id="atlt_geminiAI_btn" class="atlt-provider-btn translate">Translate</button>':`<button class="atlt-provider-btn atlt_addApikey_btn error notranslate add-api-btn">\n                        <img src="${n("error")}" alt="error" style="height:16px; vertical-align:middle; margin-right:5px;">Add API key\n                       </button>`},{name:"OpenAI Translate",icon:"openai",info:"https://locoaddon.com/docs/pro-plugin/how-to-use-gemini-ai-to-translate-plugins-or-themes/",doc:`${a}gemini-ai-translations-wordpress/?utm_source=atlt_plugin&utm_medium=inside&utm_campaign=docs&utm_content=popup_openai_pro`,btn:r?'<button id="atlt_openai_btn" class="atlt-provider-btn translate">Translate</button>':`<button class="atlt-provider-btn atlt_addApikey_btn error notranslate add-api-btn">\n                        <img src="${n("error")}" alt="error" style="height:16px; margin-right:5px; vertical-align:middle;">Add API key\n                       </button>`},{name:"DeepL Translate",icon:"deepl",info:"https://www.deepl.com/translator",doc:`${a}translate-via-deepl-translator/?utm_source=atlt_plugin&utm_medium=inside&utm_campaign=docs&utm_content=popup_deepl_pro`,btn:i?'<button id="atlt_deepl_btn" class="atlt-provider-btn translate">Translate</button>':`<button class="atlt-provider-btn atlt_addApikey_btn error notranslate add-api-btn">\n                        <img src="${n("error")}" alt="error" style="height:16px; margin-right:5px; vertical-align:middle;">Add API key\n                       </button>`}],c=l.map(t=>`\n            <tr>\n                <td class="atlt-provider-name">\n                    <a href="${t.info}" target="_blank">\n                        <img src="${n(t.icon)}" class="atlt-provider-icon" alt="${t.name}">\n                    </a>\n                    ${t.name}\n                </td>\n                <td>${t.btn}</td>\n                <td>\n                    <a href="${t.doc}" target="_blank" class="atlt-provider-docs-btn">${o}</a>\n                </td>\n            </tr>\n        `).join(""),d=`\n            <div class="atlt-provider-modal" id="atlt-dialog" title="Step 2 - Select Translation Provider" style="display:none;">\n                <table class="atlt-provider-table">\n                    <thead>\n                        <tr><th>Name</th><th>Translate</th><th>Docs</th></tr>\n                    </thead>\n                    <tbody>${c}</tbody>\n                </table>\n            </div>\n        `;e("body").append(d)}function F(t,a){let{wrapperCls:n,headerCls:o,bodyCls:s,footerCls:r,modelId:i}=Y(a),l=`\n            <div id="${i}" class="modal atlt_custom_model  ${n} ${nt}">\n                <div class="modal-content">\n                    <input type="hidden" id="project_id" value="${t}"> \n                    ${U(a,o)}   \n                    ${q(a,s)}   \n                    ${K(a,r)} \n                    </div>\n                </div>`;e("body").append(l)}function Y(t){let e="",a="",n="",o="",s="";switch(t){case"yandex":e="yandex-widget-container",a="yandex-widget-header",n="yandex-widget-body",o="yandex-widget-footer",s="yandex-widget-model",type="yandex";break;case"google":e="google-widget-container",a="google-widget-header",n="google-widget-body",o="google-widget-footer",s="google-widget-model",type="google";break;case"deepl":e="deepl-widget-container",a="deepl-widget-header",n="deepl-widget-body",o="deepl-widget-footer",s="deepl-widget-model",type="deepl";break;case"ChromeAiTranslator":e="ChromeAiTranslator-widget-container",a="ChromeAiTranslator-widget-header",n="ChromeAiTranslator-widget-body",o="ChromeAiTranslator-widget-footer",s="ChromeAiTranslator-widget-model",type="ChromeAiTranslator";break;case"chatGPT":e="chatGPT-widget-container",a="chatGPT-widget-header",n="chatGPT-widget-body",o="chatGPT-widget-footer",s="chatGPT-widget-model",type="chatGPT";break;case"geminiAI":e="geminiAI-widget-container",a="geminiAI-widget-header",n="geminiAI-widget-body",o="geminiAI-widget-footer",s="geminiAI-widget-model",type="geminiAI";break;case"openAI":e="openAI-widget-container",a="openAI-widget-header",n="openAI-widget-body",o="openAI-widget-footer",s="openAI-widget-model",type="openAI";break;default:e="yandex-widget-container",a="yandex-widget-header",n="yandex-widget-body",o="yandex-widget-footer"}return{wrapperCls:e,headerCls:a,bodyCls:n,footerCls:o,modelId:s,type:type}}function q(t,e){function a(t){return t=t.replace("ChromeAiTranslator","Chrome AI"),t=t.replace("deepl","DeepL"),t.charAt(0).toUpperCase()+t.slice(1)}const n=`${type}`,o=a(n),s=`<div class = "modal-scrollbar">\n        <div class="notice inline notice-info is-dismissible">\n                        Plugin will not translate any strings with HTML or special characters because ${o} Translator currently does not support HTML and special characters translations.\n                        You can edit translated strings inside Loco Translate Editor after merging the translations. Only special characters (%s, %d) fixed at the time of merging of the translations.\n                    </div>\n                    <div class="notice inline notice-info is-dismissible">\n                        Machine translations are not 100% correct.\n                        Please verify strings before using on the production website.\n                    </div>\n        <div class="modal-body  ${e}">\n            <div class="atlt_translate_progress">\n                Automatic translation is in progress....<br/>\n                It will take a few minutes, enjoy â˜• coffee in this time!<br/><br/>\n                Please do not leave this window or browser tab while the translation is in progress...\n\n            <div class="progress-wrapper">\n                <div class="progress-container">\n                    <div class="progress-bar" id="myProgressBar">\n                        <span id="progressText">0%</span>\n                    </div>\n                </div>\n            </div>\n            </div>\n            <div class="atlt_translate_warning-massage">\n                <div class="warning-massage-wrapper">\n                     <button class="close-button">&times;</button>\n                     <div class="warning-massage-content"></div>\n                </div>\n            </div>\n            ${V(t)}\n            <div class="atlt_string_container">\n                <table class="scrolldown atlt_strings_table">\n                    <thead>\n                        <th class="notranslate">S.No</th>\n                        <th class="notranslate">Source Text</th>\n                        <th class="notranslate">Translation</th>\n                    </thead>\n                    <tbody class="atlt_strings_body">\n                    </tbody>\n                </table>\n            </div>\n            <div class="notice-container"></div>\n        </div>\n        </div>`;return s}function U(t,e){if("yandex"===t||"google"===t||"deepl"===t||"openAI"===t||"geminiAI"===t||"ChromeAiTranslator"===t){const t=`\n        <div class="modal-header  ${e}">\n                        <span class="close">&times;</span>\n                        <h2 class="notranslate">Step 2 - Start Automatic Translation Process</h2>\n                        <div class="atlt_actions">\n                            <button class="notranslate atlt_save_strings button button-primary" data-type = "${type}" disabled="true">Merge Translation</button>\n                        </div>\n                        <div style="display:none" class="atlt_stats hidden">\n                            Wahooo! You have saved your valuable time via auto translating \n                            <strong class="totalChars"></strong> characters  using \n                            <strong>\n                                <a href="https://wordpress.org/support/plugin/automatic-translator-addon-for-loco-translate/reviews/#new-post" target="_new">\n                                    LocoAI â€“ Auto Translate for Loco Translate (Pro)\n                                </a>\n                            </strong>\n                        </div>\n                    </div>\n                    `;return t}if("chatGPT"===t){const t=`\n        <div class="modal-header  ${e}">\n                        <span class="close">&times;</span>\n                        <h2 class="notranslate">Step 2 - Start Automatic Translation Process</h2>\n                        <div class="atlt_actions">\n                            <button class="notranslate atlt_save_strings button button-primary" data-type = "${type}" disabled="true">Merge Translation</button>\n                        </div>\n                        <div style="display:none" class="atlt_stats hidden">\n                            Wahooo! You have saved your valuable time via auto translating \n                            <strong class="totalChars"></strong> characters  using \n                            <strong>\n                                <a href="https://wordpress.org/support/plugin/automatic-translator-addon-for-loco-translate/reviews/#new-post" target="_new">\n                                    LocoAI â€“ Auto Translate for Loco Translate (Pro)\n                                </a>\n                            </strong>\n                        </div>\n                    </div>\n                    `;return t}}function K(t,e){if("yandex"===t||"google"===t||"deepl"===t||"geminiAI"===t||"openAI"===t||"ChromeAiTranslator"===t){const t=` <div class="modal-footer ${e}">\n        <div class="atlt_actions">\n            <button class="notranslate atlt_save_strings button button-primary" data-type = "${type}" disabled="true">Merge Translation</button>\n        </div>\n        <div style="display:none" class="atlt_stats">\n            Wahooo! You have saved your valuable time via auto translating \n            <strong class="totalChars"></strong> characters  using \n            <strong>\n                <a href="https://wordpress.org/support/plugin/automatic-translator-addon-for-loco-translate/reviews/#new-post" target="_new">\n                    LocoAI â€“ Auto Translate for Loco Translate (Pro)\n                </a>\n            </strong>\n        </div>\n    </div>`;return t}if("chatGPT"===t){const t=` <div class="modal-footer ${e}">\n            <div class="atlt_actions chatGPT_disable">\n            <button data-type = "${type}" class="chatGPT_save_cont button button-primary btn-disabled">Save & Continue</button>\n            <button data-type = "${type}" class="chatGPT_save_close button button-primary btn-disabled">Save & Close</button>\n        </div>\n        <div class="chatGptError"></div>\n        <div style="display:none" class="atlt_stats">\n            Wahooo! You have saved your valuable time via auto translating \n            <strong class="totalChars"></strong> characters  using \n            <strong>\n                <a href="https://wordpress.org/support/plugin/automatic-translator-addon-for-loco-translate/reviews/#new-post" target="_new">\n                    LocoAI â€“ Auto Translate for Loco Translate (Pro)\n                </a>\n            </strong>\n        </div>\n        </div>`;return t}return""}function V(t){if("yandex"===t){const e='<div id="ytWidget">..Loading</div><br>';return`<div class="translator-widget  ${t}">\n                    <h3 class="choose-lang">Choose language <span class="dashicons-before dashicons-translation"></span></h3>\n                    ${e}\n                </div>`}if("google"===t){const e='<div id="google_translate_element"></div>';return`<div class="translator-widget  ${t}">\n                    <h3 class="choose-lang">Choose language <span class="dashicons-before dashicons-translation"></span></h3>\n                    ${e}\n                </div>`}if("ChromeAiTranslator"===t)return`<div class="translator-widget  ${t}">\n                    <h3 class="choose-lang">Translate Using Chrome Built-in AI<div class="atlt_chrome_ai"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path fill="none" stroke="#5cb85c" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m10 7l-.516 1.394c-.676 1.828-1.014 2.742-1.681 3.409s-1.581 1.005-3.409 1.681L3 14l1.394.516c1.828.676 2.742 1.015 3.409 1.681s1.005 1.581 1.681 3.409L10 21l.516-1.394c.676-1.828 1.015-2.742 1.681-3.409s1.581-1.005 3.409-1.681L17 14l-1.394-.516c-1.828-.676-2.742-1.014-3.409-1.681s-1.005-1.581-1.681-3.409zm8-4l-.221.597c-.29.784-.435 1.176-.72 1.461c-.286.286-.678.431-1.462.72L15 6l.598.221c.783.29 1.175.435 1.46.72c.286.286.431.678.72 1.462L18 9l.221-.597c.29-.784.435-1.176.72-1.461c.286-.286.678-.431 1.462-.72L21 6l-.598-.221c-.783-.29-1.175-.435-1.46-.72c-.286-.286-.431-.678-.72-1.462z" color="#5cb85c"/></svg></div></h3>\n                     <div id="chrome_ai_translator_element"></div>\n                </div>`;if("openAI"===t){const e='\n                <div id="openAI_translate_element">\n                    <button id="openAI_translate_button" class="button button-primary">Translate with OpenAI</button>\n                </div>';return`<div class="translator-widget  ${t}">\n                    <h3 class="choose-lang">Translate Using OpenAI <span class="dashicons-before dashicons-translation"></span></h3>\n                    ${e}\n                </div>`}if("geminiAI"===t){const e='\n                <div id="geminiAI_translate_element">\n                    <button id="geminiAI_translate_button" class="button button-primary">Translate with GeminiAI</button>\n                </div>';return`<div class="translator-widget  ${t}">\n                    <h3 class="choose-lang">Translate Using GeminiAI <span class="dashicons-before dashicons-translation"></span></h3>\n                    ${e}\n                </div>`}if("deepl"===t){const e='\n            <div id="deepl_translate_element">\n                <button id="deepl_translate_button" class="button button-primary">Translate with DeepL</button>\n            </div>';return`<div class="translator-widget  ${t}">\n                <h3 class="choose-lang">Translate Using DeepL <span class="dashicons-before dashicons-translation"></span></h3>\n            ${e}\n            </div>`}if("chatGPT"===t){currentTab=0;const e='<div id="chatGPT_translate_element"></div>';return`<div class="translator-widget  ${t}">\n            <div class="chatGPT_progress">\n          <div id="chatGPT_progressbar" style="width: 0%"></div>\n        </div>\n            <form id="Form">\n            <div id="tabContainer">\n            <button style="float:right; font-size:14px;" class="button button-primary prev_btn" id="prevButton" disabled="true" type="button">&#8249; Previous</button>\n            </div>\n            </form>\n                ${e}\n            </div>`}return""}const X=t.locoConf,Q=t.extradata;let Z=!1;const{ajax_url:tt,nonce:et,ATLT_URL:at,extra_class:nt,api_key:ot,dashboard_url:st}=Q,rt=X.conf.podata;let it="";if(X&&X.conf&&X.conf.project&&X.conf.project.bundle){const t=X.conf.project.bundle.startsWith("theme.");if(t)it=X.conf.project.domain||"";else{const t=X.conf.project.bundle.match(/^[^.]+\.(.*?)(?=\/)/);it=t?t[1]:""}}n();var lt=document.querySelectorAll(".atlt_custom_model");e(t).click(function(t){t.target.closest(".modal-content")||s();for(var a=0;a<lt.length;a++){var n=lt[a];e(t.target).hasClass("atlt_custom_model")&&t.target===n&&(n.style.display="none",e(".container").length>0&&(e(".chatGPT_steps-border").length>0&&e(".chatGPT_steps-border").removeClass("chatGPT_steps-border"),e(".container").remove()))}}),e(".atlt_custom_model").find(".close").on("click",function(){s(),e(".container").length>0&&(e(".chatGPT_steps-border").length>0&&e(".chatGPT_steps-border").removeClass("chatGPT_steps-border"),e(".container").remove()),e(".atlt_custom_model").fadeOut("slow")}),e(document).ready(function(){o()})}(window,jQuery,gTranslateWidget);