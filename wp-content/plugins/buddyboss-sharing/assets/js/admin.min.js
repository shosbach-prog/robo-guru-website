!function(e){"use strict";var i={init:function(){this.initImageUpload(),this.initSyncCheckboxes(),this.initPreviewUpdates()},initImageUpload:function(){e(document).on("click",".buddyboss-sharing-upload-image",function(i){i.preventDefault();var t=wp.media({title:buddybossSeoAdmin.i18n.uploadImage,button:{text:buddybossSeoAdmin.i18n.selectImage},multiple:!1,library:{type:"image"}});t.on("select",function(){var i=t.state().get("selection").first().toJSON();e("#buddyboss_og_image").val(i.url),e("#og-image-preview-img").length>0?e("#og-image-preview-img").attr("src",i.url):e(".buddyboss-sharing-image-upload").prepend('<div class="buddyboss-sharing-image-preview" style="margin-bottom: 15px; border: 1px solid #ddd; border-radius: 4px; overflow: hidden; max-width: 500px;">\n\t\t\t\t\t\t\t\t<img src="'.concat(i.url,'" id="og-image-preview-img" style="width: 100%; height: auto; display: block;" />\n\t\t\t\t\t\t\t</div>')),e("#social-preview-img").length>0?e("#social-preview-img").attr("src",i.url).closest(".social-preview-image").css("background","#f0f2f5"):e(".buddyboss-sharing-social-preview").find(".social-preview-image").html('<img src="'.concat(i.url,'" style="width: 100%; height: 100%; object-fit: cover;" id="social-preview-img" />')),0===e(".buddyboss-sharing-remove-image").length&&e(".buddyboss-sharing-upload-image").after(' <button type="button" class="button buddyboss-sharing-remove-image">'.concat(buddybossSeoAdmin.i18n.remove||"Remove","</button>"))}),t.open()}),e(document).on("click",".buddyboss-sharing-remove-image",function(i){i.preventDefault(),e("#buddyboss_og_image").val(""),e(".buddyboss-sharing-image-preview").remove(),e(".buddyboss-sharing-social-preview").find(".social-preview-image").html('<div style="width: 100%; height: 260px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center;"><span style="color: white; font-size: 48px;">ðŸ“±</span></div>'),e(this).remove()})},initSyncCheckboxes:function(){var i=e("#buddyboss_og_use_same_title"),t=e("#buddyboss_og_title"),s=e("#buddyboss_seo_title");i.length&&t.length&&s.length&&(i.on("change",function(){e(this).is(":checked")?(t.prop("readonly",!0).val(s.val()),e("#social-preview-title").text(s.val())):t.prop("readonly",!1)}),s.on("input",function(){i.is(":checked")&&(t.val(e(this).val()),e("#social-preview-title").text(e(this).val()))}));var o=e("#buddyboss_og_use_same_desc"),n=e("#buddyboss_og_description"),a=e("#buddyboss_seo_description");o.length&&n.length&&a.length&&(o.on("change",function(){e(this).is(":checked")?(n.prop("readonly",!0).val(a.val()),e("#social-preview-desc").text(a.val())):n.prop("readonly",!1)}),a.on("input",function(){o.is(":checked")&&(n.val(e(this).val()),e("#social-preview-desc").text(e(this).val()))}))},initPreviewUpdates:function(){e("#buddyboss_seo_title").on("input",function(){var i=e(this).val();e("#seo-preview-title").text(i),e("#buddyboss_og_use_same_title").is(":checked")&&e("#social-preview-title").text(i)}),e("#buddyboss_seo_description").on("input",function(){var i=e(this).val();e("#seo-preview-desc").text(i),e("#buddyboss_og_use_same_desc").is(":checked")&&e("#social-preview-desc").text(i)}),e("#buddyboss_og_title").on("input",function(){e("#social-preview-title").text(e(this).val())}),e("#buddyboss_og_description").on("input",function(){e("#social-preview-desc").text(e(this).val())})}};e(document).ready(function(){i.init()})}(jQuery);